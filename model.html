<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blue Shark Tracking - Bio-tag design</title>
	<!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ¦ˆ</text></svg>">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Arial, sans-serif;
            background: #f5f5f5;
            color: #333;
            overflow-x: hidden;
            scroll-behavior: smooth;
        }
        
        .header {
            background-color: #2c3e50;
            color: white;
            padding: 1rem 2rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header.hidden {
            transform: translateY(-100%);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
        }

        .header-title {
            flex: 1;
        }

        .header-title h1 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .header-title p {
            font-size: 1rem;
            opacity: 0.9;
        }

        .nav-tabs {
            display: flex;
            gap: 0;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            padding: 4px;
        }

        .nav-tab {
            padding: 10px 20px;
            text-decoration: none;
            color: rgba(255, 255, 255, 0.7);
            border-radius: 6px;
            transition: all 0.3s ease;
            font-weight: 500;
            font-size: 0.9rem;
        }

        .nav-tab:hover {
            color: white;
            background: rgba(255, 255, 255, 0.1);
        }

        .nav-tab.active {
            color: white;
            background: #3498db;
        }
        
        .hero-section {
            height: calc(100vh - 80px);
            display: flex;
            position: relative;
            background: #f5f5f5;
        }
        
        .hero-viewer {
            width: 60%;
            position: relative;
        }
        
        .hero-message {
            width: 40%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 3rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .hero-message h2 {
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
            line-height: 1.2;
        }
        
        .hero-message p {
            font-size: 1.2rem;
            line-height: 1.8;
            margin-bottom: 2rem;
        }
        
        .scroll-button {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            background: #3498db;
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.4);
            transition: all 0.3s ease;
            z-index: 10;
        }
        
        .scroll-button:hover {
            background: #2980b9;
            transform: translateX(-50%) translateY(-5px);
            box-shadow: 0 6px 20px rgba(52, 152, 219, 0.6);
        }
        
        .detail-section {
            min-height: 100vh;
            background: linear-gradient(135deg, #1e3c72, #2a5298);
            padding: 6rem 2rem 4rem 2rem;
            color: white;
        }
        
        .detail-content {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .detail-header {
            text-align: center;
            margin-bottom: 3rem;
        }
        
        .detail-header h2 {
            font-size: 3rem;
            margin-bottom: 1rem;
        }
        
        .detail-header p {
            font-size: 1.3rem;
            opacity: 0.9;
        }
        
        .detail-viewer-container {
            display: flex;
            gap: 3rem;
            margin-bottom: 3rem;
            align-items: flex-start;
        }
        
        .detail-viewer {
            flex: 1;
            position: relative;
            height: 600px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            overflow: hidden;
        }
        
        .detail-info {
            flex: 1;
        }
        
        .detail-info h3 {
            font-size: 1.8rem;
            margin-bottom: 1rem;
            color: #64b5f6;
        }
        
        .detail-info p {
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 1.5rem;
        }
        
        .detail-info ul {
            list-style: none;
            padding: 0;
        }
        
        .detail-info li {
            padding: 0.8rem 0;
            padding-left: 2rem;
            position: relative;
            font-size: 1.05rem;
            line-height: 1.6;
        }
        
        .detail-info li:before {
            content: "âœ“";
            position: absolute;
            left: 0;
            color: #64b5f6;
            font-weight: bold;
            font-size: 1.2rem;
        }
        
        .tag-image {
            width: 100%;
            max-width: 600px;
            margin: 0 auto 2rem auto;
            display: block;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        
        .component-section {
            margin-top: 3rem;
        }
        
        .component-section h3 {
            font-size: 2rem;
            margin-bottom: 2rem;
            text-align: center;
            color: #ffd700;
        }
        
        .component-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 2rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            border-left: 4px solid #64b5f6;
        }
        
        .component-item h4 {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
            color: #64b5f6;
        }
        
        .component-item h5 {
            font-size: 1.2rem;
            margin-bottom: 1rem;
            font-style: italic;
            opacity: 0.9;
        }
        
        .component-item p {
            font-size: 1.05rem;
            line-height: 1.8;
            margin-bottom: 0.5rem;
        }
        
        .controls {
            position: absolute;
            bottom: 20px;
            left: 20px;
            z-index: 100;
            background: rgba(255, 255, 255, 0.95);
            color: #333;
            padding: 15px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .controls h3 {
            margin-bottom: 10px;
            font-size: 1rem;
            color: #2c3e50;
        }
        
        .control-group {
            margin-bottom: 10px;
        }
        
        .control-group label {
            display: block;
            margin-bottom: 5px;
            font-size: 0.8rem;
        }
        
        .control-group input[type="range"] {
            width: 150px;
        }
        
        .control-group button {
            background: #3498db;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 5px;
            cursor: pointer;
            margin-right: 5px;
            font-size: 0.8rem;
        }
        
        .control-group button:hover {
            background: #2980b9;
        }
        
        .loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            z-index: 200;
            color: #333;
        }
        
        .loading.hidden {
            display: none;
        }
        
        .spinner {
            border: 4px solid rgba(52, 152, 219, 0.3);
            border-radius: 50%;
            border-top: 4px solid #3498db;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        #heroViewer {
            width: 100%;
            height: 100%;
            cursor: grab;
        }
        
        #heroViewer:active {
            cursor: grabbing;
        }
        
        #detailViewer {
            width: 100%;
            height: 100%;
            cursor: grab;
        }
        
        #detailViewer:active {
            cursor: grabbing;
        }
        
        .error {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            background: rgba(231, 76, 60, 0.9);
            padding: 20px;
            border-radius: 10px;
            z-index: 200;
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-content">
            <div class="header-title">
                <h1>Blue Shark Tracking Project</h1>
                <p>Interactive 3D model of bio-tag</p>
            </div>
            <nav class="nav-tabs">
                <a href="index.html" class="nav-tab">Our Mission</a>
                <a href="map.html" class="nav-tab">2D Map</a>
                <a href="predict.html" class="nav-tab">Prediction</a>
				<a href="globe.html" class="nav-tab">3D Map</a>
                <a href="model.html" class="nav-tab active">Bio-tag</a>
            </nav>
        </div>
    </div>
    
    <!-- Hero Section with Tag Model -->
    <section class="hero-section">
        <div class="hero-viewer">
            <div class="loading" id="heroLoading">
                <div class="spinner"></div>
                <p>Loading 3D model...</p>
            </div>
            
            <div class="controls" id="heroControls">
                <h3>Controls</h3>
                <div class="control-group">
                    <label>Zoom:</label>
                    <input type="range" id="heroZoomSlider" min="0.5" max="5" step="0.1" value="1">
                </div>
                <div class="control-group">
                    <label>Rotation Speed:</label>
                    <input type="range" id="heroSpeedSlider" min="0" max="0.05" step="0.005" value="0.01">
                </div>
                <div class="control-group">
                    <button id="heroResetBtn">Reset View</button>
                    <button id="heroToggleRotation" style="background: #c0392b;">Stop Rotate</button>
                </div>
            </div>
            
            <div id="heroViewer"></div>
        </div>
        
        <div class="hero-message">
            <h2>Bio-Tag Design</h2>
            <p>Wondering how we know the location of each shark in 2D maps? Want to know more about how we can track sharks even if they're 1000 miles away?</p>
            <p style="font-size: 1.4rem; font-weight: 600; color: #ffd700;">See our Bio-tag design!</p>
        </div>
        
        <button class="scroll-button" id="scrollButton">See more about the tag â†“</button>
    </section>
    
    <!-- Detail Section with Shark Remora Model -->
    <section class="detail-section" id="detailSection">
        <div class="detail-content">
            <div class="detail-header">
                <h2>SELF-POWERED Edge AI Shark Tag Pro</h2>
                <p>Advanced tracking technology inspired by nature</p>
            </div>
            
            <img src="./images/tag_temp.png" alt="Shark Tag Temperature Sensor" class="tag-image">
            
            <div class="detail-viewer-container">
                <div class="detail-viewer">
                    <div class="loading" id="detailLoading">
                        <div class="spinner"></div>
                        <p>Loading 3D model...</p>
                    </div>
                    
                    <div class="controls" id="detailControls">
                        <h3>Controls</h3>
                        <div class="control-group">
                            <label>Zoom:</label>
                            <input type="range" id="detailZoomSlider" min="0.5" max="5" step="0.1" value="1">
                        </div>
                        <div class="control-group">
                            <label>Rotation Speed:</label>
                            <input type="range" id="detailSpeedSlider" min="0" max="0.05" step="0.005" value="0.01">
                        </div>
                        <div class="control-group">
                            <button id="detailResetBtn">Reset View</button>
                            <button id="detailToggleRotation" style="background: #c0392b;">Stop Rotate</button>
                        </div>
                    </div>
                    
                    <div id="detailViewer"></div>
                </div>
                
                <div class="detail-info">
                    <h3>Key Features</h3>
                    <p>Unlike traditional shark tags, which often last no longer than a year, this biomimetic tag draws its energy directly from the motion of the shark â€” powered by advanced piezoelectric fibers. As long as the shark lives and swims, the tag endures, extending observation far beyond conventional limits.</p>
                    <p>Traditional satellite tags struggle to return data in real time. But this new generation of shark tag does more. It can sense what these ocean giants are eating, and transmit that knowledge instantly back to researchers. For the first time, we gain not just glimpses, but a living, continuous stream of intelligence â€” enabling the creation of predictive models of marine behavior.</p>
                </div>
            </div>
            
            <div class="component-section">
                <h3>Key Components Overview</h3>
                
                <div class="component-item">
                    <h4>1. Piezo Fiber</h4>
                    <h5>Motion to Energy -- Turning a shark's swim into power.</h5>
                    <p>At the rear of the tag, slender piezoelectric fibers bend with the flowâ€”like a remora's tail flexing in the current. Each tiny vibration becomes electricity. Unlike traditional tags that fade within a year, this biomimetic design feeds on motion: as long as the shark swims, the tag keeps working, extending our watch far beyond old limits.</p>
                    <p>In tests on live fish, the harvester produced ~80 Î¼W, enough to power up light a blue LEDâ€”proof that life in motion can power science.</p>
                    <p>In comparison with battery tags, this approach can support longer studies and more data over time.</p>
                </div>
                
                <div class="component-item">
                    <h4>2. Suction Disc</h4>
                    <h5>A Gentle Hold to the Shark -- Non-invasive Mount</h5>
                    <p>Secure attachment, minimal drag, no piercing.</p>
                    <p>Inspired by remoras and modern suction-cup wildlife tags, the mount grips the skin without injury. It rides quietly with the animal across long distances, staying low-profile to reduce dragâ€”built to endure real ocean travel while keeping the host unharmed.</p>
                </div>
                
                <div class="component-item">
                    <h4>3. PreySense</h4>
                    <h5>Revealing the Hunt</h5>
                    <p>Sensors wake when a predator moves.</p>
                    <p>A small network listens for the signs of feeding and switches on only when it matters:</p>
                    <ul style="margin-left: 1.5rem; margin-top: 1rem;">
                        <li style="margin-bottom: 0.5rem;"><strong>IMU / accelerometer:</strong> bursts of speed, rolls, lunges.</li>
                        <li style="margin-bottom: 0.5rem;"><strong>Pressure sensor:</strong> depth changes before and after the strike.</li>
                        <li style="margin-bottom: 0.5rem;"><strong>Magnetometer:</strong> heading and orientation for sensor fusion.</li>
                        <li style="margin-bottom: 0.5rem;"><strong>Hydrophone (passive acoustics):</strong> the scatter of prey, jaw impacts, tearing sounds, social calls.</li>
                    </ul>
                    <p style="margin-top: 1rem;">When these cues align, a miniature camera activatesâ€”capturing short, high-value clips around the feeding moment so we can tell what the shark is eating, not just where it swims.</p>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Three.js CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/OBJLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
    
    <script>
        // Scroll button functionality
        document.getElementById('scrollButton').addEventListener('click', function() {
            document.getElementById('detailSection').scrollIntoView({ behavior: 'smooth' });
        });
        
        // Hero viewer (tag.glb)
        let heroScene, heroCamera, heroRenderer, heroControls, heroModel;
        let heroAutoRotate = true;
        let heroRotationSpeed = 0.01;

        // Detail viewer (shark.glb)
        let detailScene, detailCamera, detailRenderer, detailControls, detailModel;
        let detailAutoRotate = true;
        let detailRotationSpeed = 0.01;
        
        // Initialize hero viewer
        function initHeroViewer() {
            const container = document.getElementById('heroViewer');
            const width = container.clientWidth;
            const height = container.clientHeight;
            
            heroScene = new THREE.Scene();
            heroScene.background = new THREE.Color(0xf5f5f5);
            
            heroCamera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000);
            heroCamera.position.set(0, 0, 100);
            
            heroRenderer = new THREE.WebGLRenderer({ antialias: true });
            heroRenderer.setSize(width, height);
            heroRenderer.shadowMap.enabled = true;
            heroRenderer.shadowMap.type = THREE.PCFSoftShadowMap;
            container.appendChild(heroRenderer.domElement);
            
            heroControls = new THREE.OrbitControls(heroCamera, heroRenderer.domElement);
            heroControls.enableDamping = true;
            heroControls.dampingFactor = 0.25;
            heroControls.screenSpacePanning = false;
            heroControls.maxPolarAngle = Math.PI;
            // When the user starts interacting (dragging) we should stop auto-rotation
            heroControls.addEventListener('start', function() {
                heroAutoRotate = false;
                const btn = document.getElementById('heroToggleRotation');
                if (btn) {
                    btn.textContent = 'Auto Rotate';
                    btn.style.background = '#3498db';
                }
            });
            
            const ambientLight = new THREE.AmbientLight(0xffffff, 1.2);
            heroScene.add(ambientLight);
            
            const directionalLight = new THREE.DirectionalLight(0xffffff, 1.0);
            directionalLight.position.set(50, 50, 50);
            directionalLight.castShadow = true;
            heroScene.add(directionalLight);
            
            const directionalLight2 = new THREE.DirectionalLight(0xffffff, 0.8);
            directionalLight2.position.set(-50, -50, -50);
            heroScene.add(directionalLight2);
            
            const fillLight1 = new THREE.DirectionalLight(0xffffff, 0.5);
            fillLight1.position.set(-50, 50, 50);
            heroScene.add(fillLight1);
            
            const fillLight2 = new THREE.DirectionalLight(0xffffff, 0.5);
            fillLight2.position.set(50, -50, 50);
            heroScene.add(fillLight2);
            
            loadHeroModel();
            setupHeroControls();
            animateHero();
        }
        
        function loadHeroModel() {
            const loader = new THREE.GLTFLoader();
            
            loader.load('models/tag.glb', function(gltf) {
                document.getElementById('heroLoading').classList.add('hidden');
                
                const object = gltf.scene;
                object.traverse(function(child) {
                    if (child instanceof THREE.Mesh) {
                        child.castShadow = true;
                        child.receiveShadow = true;
                    }
                });
                
                heroModel = object;
                
                const box = new THREE.Box3().setFromObject(object);
                const center = box.getCenter(new THREE.Vector3());
                object.position.sub(center);
                
                const size = box.getSize(new THREE.Vector3());
                const maxDim = Math.max(size.x, size.y, size.z);
                const scale = 50 / maxDim;
                object.scale.setScalar(scale);
                
                heroScene.add(object);
            }, undefined, function(error) {
                console.error('Error loading tag.glb:', error);
            });
        }
        
        function setupHeroControls() {
            document.getElementById('heroZoomSlider').addEventListener('input', function(e) {
                heroCamera.zoom = parseFloat(e.target.value);
                heroCamera.updateProjectionMatrix();
            });
            
            document.getElementById('heroSpeedSlider').addEventListener('input', function(e) {
                heroRotationSpeed = parseFloat(e.target.value);
            });
            
            document.getElementById('heroResetBtn').addEventListener('click', function() {
                heroCamera.position.set(0, 0, 100);
                heroCamera.zoom = 1;
                heroCamera.updateProjectionMatrix();
                heroControls.reset();
                if (heroModel) heroModel.rotation.set(0, 0, 0);
            });
            
            document.getElementById('heroToggleRotation').addEventListener('click', function() {
                heroAutoRotate = !heroAutoRotate;
                this.textContent = heroAutoRotate ? 'Stop Rotate' : 'Auto Rotate';
                this.style.background = heroAutoRotate ? '#c0392b' : '#3498db';
            });
        }
        
        function animateHero() {
            requestAnimationFrame(animateHero);
            
            if (heroAutoRotate && heroModel) {
                heroModel.rotation.y += heroRotationSpeed;
                heroModel.rotation.x += heroRotationSpeed * 0.5;
            }
            
            heroControls.update();
            heroRenderer.render(heroScene, heroCamera);
        }
        
        // Initialize detail viewer
        function initDetailViewer() {
            const container = document.getElementById('detailViewer');
            const width = container.clientWidth;
            const height = container.clientHeight;
            
            detailScene = new THREE.Scene();
            detailScene.background = new THREE.Color(0x1a2332);
            
            detailCamera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000);
            detailCamera.position.set(0, 0, 100);
            
            detailRenderer = new THREE.WebGLRenderer({ antialias: true });
            detailRenderer.setSize(width, height);
            detailRenderer.shadowMap.enabled = true;
            detailRenderer.shadowMap.type = THREE.PCFSoftShadowMap;
            container.appendChild(detailRenderer.domElement);
            
            detailControls = new THREE.OrbitControls(detailCamera, detailRenderer.domElement);
            detailControls.enableDamping = true;
            detailControls.dampingFactor = 0.25;
            detailControls.screenSpacePanning = false;
            detailControls.maxPolarAngle = Math.PI;
            // Stop detail auto-rotation when the user starts dragging
            detailControls.addEventListener('start', function() {
                detailAutoRotate = false;
                const btn = document.getElementById('detailToggleRotation');
                if (btn) {
                    btn.textContent = 'Auto Rotate';
                    btn.style.background = '#3498db';
                }
            });
            
            const ambientLight = new THREE.AmbientLight(0xffffff, 1.2);
            detailScene.add(ambientLight);
            
            const directionalLight = new THREE.DirectionalLight(0xffffff, 1.0);
            directionalLight.position.set(50, 50, 50);
            directionalLight.castShadow = true;
            detailScene.add(directionalLight);
            
            const directionalLight2 = new THREE.DirectionalLight(0xffffff, 0.8);
            directionalLight2.position.set(-50, -50, -50);
            detailScene.add(directionalLight2);
            
            const fillLight1 = new THREE.DirectionalLight(0xffffff, 0.5);
            fillLight1.position.set(-50, 50, 50);
            detailScene.add(fillLight1);
            
            const fillLight2 = new THREE.DirectionalLight(0xffffff, 0.5);
            fillLight2.position.set(50, -50, 50);
            detailScene.add(fillLight2);
            
            loadDetailModel();
            setupDetailControls();
            animateDetail();
        }
        
        function loadDetailModel() {
            const loader = new THREE.GLTFLoader();
            
            loader.load('models/shark.glb', function(gltf) {
                document.getElementById('detailLoading').classList.add('hidden');
                
                const object = gltf.scene;
                object.traverse(function(child) {
                    if (child instanceof THREE.Mesh) {
                        child.castShadow = true;
                        child.receiveShadow = true;
                    }
                });
                
                detailModel = object;
                
                const box = new THREE.Box3().setFromObject(object);
                const center = box.getCenter(new THREE.Vector3());
                object.position.sub(center);
                
                const size = box.getSize(new THREE.Vector3());
                const maxDim = Math.max(size.x, size.y, size.z);
                const scale = 50 / maxDim;
                object.scale.setScalar(scale);
                
                detailScene.add(object);
            }, undefined, function(error) {
                console.error('Error loading shark.glb:', error);
            });
        }
        
        function setupDetailControls() {
            document.getElementById('detailZoomSlider').addEventListener('input', function(e) {
                detailCamera.zoom = parseFloat(e.target.value);
                detailCamera.updateProjectionMatrix();
            });
            
            document.getElementById('detailSpeedSlider').addEventListener('input', function(e) {
                detailRotationSpeed = parseFloat(e.target.value);
            });
            
            document.getElementById('detailResetBtn').addEventListener('click', function() {
                detailCamera.position.set(0, 0, 100);
                detailCamera.zoom = 1;
                detailCamera.updateProjectionMatrix();
                detailControls.reset();
                if (detailModel) detailModel.rotation.set(0, 0, 0);
            });
            
            document.getElementById('detailToggleRotation').addEventListener('click', function() {
                detailAutoRotate = !detailAutoRotate;
                this.textContent = detailAutoRotate ? 'Stop Rotate' : 'Auto Rotate';
                this.style.background = detailAutoRotate ? '#c0392b' : '#3498db';
            });
        }
        
        function animateDetail() {
            requestAnimationFrame(animateDetail);
            
            if (detailAutoRotate && detailModel) {
                detailModel.rotation.y += detailRotationSpeed;
                detailModel.rotation.x += detailRotationSpeed * 0.5;
            }
            
            detailControls.update();
            detailRenderer.render(detailScene, detailCamera);
        }
        
        // Handle window resize
        window.addEventListener('resize', function() {
            const heroContainer = document.getElementById('heroViewer');
            const heroWidth = heroContainer.clientWidth;
            const heroHeight = heroContainer.clientHeight;
            heroCamera.aspect = heroWidth / heroHeight;
            heroCamera.updateProjectionMatrix();
            heroRenderer.setSize(heroWidth, heroHeight);
            
            const detailContainer = document.getElementById('detailViewer');
            const detailWidth = detailContainer.clientWidth;
            const detailHeight = detailContainer.clientHeight;
            detailCamera.aspect = detailWidth / detailHeight;
            detailCamera.updateProjectionMatrix();
            detailRenderer.setSize(detailWidth, detailHeight);
        });
        
        // Initialize when page loads
        window.addEventListener('load', function() {
            initHeroViewer();
            initDetailViewer();
        });
    </script>
</body>
</html>
